document.addEventListener("DOMContentLoaded",(()=>{const e=new Converter,t=document.getElementById("input"),n=document.getElementById("output"),o=document.getElementById("response"),s=document.getElementById("select"),c=document.getElementById("copy"),r=()=>{let o=t.value.trim();if(o=o.replace(/\s/g,""),""!==o)if(e.isMyanmarUnicode(o)){if("from-kaw"===s.value){const t=e.tokenize(o),s=t.length;n.textContent=s%2==0?e.combinePairs(t).map((t=>e.convertFromKaw(t))).join(" "):"..."}"to-kaw"===s.value&&(n.textContent=e.tokenize(o).map((t=>e.convertToKaw(t))).join(" "))}else n.textContent="Invalid characters. Please use Myanmar Unicode characters.";else n.textContent=""};c.addEventListener("click",(()=>{navigator.clipboard.writeText(n.textContent),setTimeout((()=>{o.textContent=""}),1e3),o.textContent="Copied to clipboard"})),t.addEventListener("input",(()=>{r()})),s.addEventListener("change",(()=>{r()}))}));class Converter{consonants=["က","ခ","ဂ","ဃ","င","စ","ဆ","ဇ","ဈ","ဉ","ည","ဋ","ဌ","ဍ","ဎ","ဏ","တ","ထ","ဒ","ဓ","န","ပ","ဖ","ဗ","ဘ","မ","ယ","ရ","လ","ဝ","သ","ဟ","ဠ","အ","ဥ"];convertToKaw(e){const t=e[0],n=e[1],o=`ေ${this.getYeCha(t,n)}်${"က"===t?"သ":"က"}`;return"ျ"===n||"ြ"===n||"ှ"===n?`${t}${n}${o}${e.slice(2)}`:`${t}${o}${e.slice(1)}`}convertFromKaw(e){let[t,n]=this.tokenize(e);return t=t.replace(/[ေ်ါာ]/g,""),n=n.replace(/[ကသ]/g,""),t+n}getYeCha(e,t){return["ျ","ြ"].includes(t)?"ာ":["ခ","ဂ","ပ","ဖ","ဝ","ဒ"].includes(e)?"ါ":"ာ"}isMyanmarUnicode=e=>/^[\u1000-\u109F]+$/.test(e);combinePairs(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(e[n]+(e[n+1]||""));return t}tokenize(e){const t=[];let n="";for(let o=0;o<e.length;o++){const s=e[o];this.consonants.includes(s)?(n&&t.push(n),n=s):n+=s}n&&t.push(n);const o=[];for(let e=0;e<t.length;e++)e>0&&t[e].includes("်")&&!t[e].includes("ေ")?o[o.length-1]+=t[e]:o.push(t[e]);return o}}