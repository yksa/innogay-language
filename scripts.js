document.addEventListener("DOMContentLoaded",(()=>{new Converter}));class Converter{reservedKey1=["ခ","ဂ","ပ","ဖ","ဝ","ဒ"];constructor(){this.input=document.getElementById("input"),this.output=document.getElementById("output"),this.input.addEventListener("input",(()=>{this.output.textContent=this.convert(this.input.value)}))}convert(e){if(!this.isMyanmarUnicode(e))return"You need to put Myanmar Unicode";const t=[...new Intl.Segmenter("my",{granularity:"word"}).segment(e)].map((e=>e.segment)),n=e=>{const t="က"===e[0],n=`ေ${this.getYayCha({text:e[0],secondText:e[1]})}်${t?"သ":"က"}`;return["ျ","ြ","ှ"].includes(e[1])?`${e[0]}${e[1]}${n}${e.slice(2)}`:`${e[0]}${n}${e.slice(1)}`};return t.map((e=>(e=>"ဝတ်ရည်"===e?n("ဝတ်")+n("ရည်"):n(e))(e))).join()}isMyanmarUnicode=e=>/^[\u1000-\u109F]+$/.test(e);getYayCha=({text:e,secondText:t})=>["ျ","ြ"].includes(t)?"ာ":this.reservedKey1.includes(e)?"ါ":"ာ"}