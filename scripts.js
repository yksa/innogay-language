document.addEventListener("DOMContentLoaded",(()=>{new Converter}));class Converter{reservedKey1=["ခ","ဂ","ပ","ဖ","ဝ","ဒ"];constructor(){this.input=document.getElementById("input"),this.output=document.getElementById("output"),this.input.addEventListener("input",(()=>{this.output.textContent=this.convert(this.input.value)}))}convert(t){if(!this.isMyanmarUnicode(t))return"Not Myanmar unicode";const e=[...new Intl.Segmenter("my",{granularity:"word"}).segment(t)].map((t=>t.segment)),n=t=>{const e="က"===t[0],n=`ေ${this.getYayCha({text:t[0],secondText:t[1]})}်${e?"သ":"က"}`;return["ျ","ြ","ှ"].includes(t[1])?`${t[0]}${t[1]}${n}${t.slice(2)}`:`${t[0]}${n}${t.slice(1)}`};return e.map((t=>(t=>{if("ဝတ်ရည်"===t)return n("ဝတ်")+n("ရည်");return n(t)})(t))).join()}isMyanmarUnicode=t=>/^[\u1000-\u109F]+$/.test(t);getYayCha=({text:t,secondText:e})=>["ျ","ြ"].includes(e)?"ာ":this.reservedKey1.includes(t)?"ါ":"ာ"}